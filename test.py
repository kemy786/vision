import streamlit as st

st.set_page_config(page_title="학교 생활 밸런스 게임", page_icon="🎓", layout="centered")

st.title("🎲 학교 생활 밸런스 게임")
st.write("엉뚱하고 웃긴 질문들에 답하면서, 당신의 학교 생활 유형을 알아보세요!")

# 질문 리스트
questions = [
    ("시험 전날, 당신의 선택은?", ["밤새 벼락치기 하다가 시험지 보자마자 뇌 정지", "그냥 자고 꿈속에서 시험지 미리 풀어본다"]),
    ("체육시간, 당신의 선택은?", ["달리기 하면서 올림픽 선수처럼 결승선에서 포즈 잡기", "체육복만 입고 나갔다가 그늘 밑에서 바람 쐬기"]),
    ("쉬는 시간에 나는...", ["자리에서 조용히 책을 본다", "복도에서 갑자기 댄스 파티 시작"]),
    ("과제 제출, 당신의 방식은?", ["마감 3일 전에 미리 제출", "선생님이 부를 때까지 잠수"]),
    ("시험 끝난 날, 나는...", ["바로 복습 시작하는 모범생", "게임·넷플릭스 정주행 몰아보기"]),
    ("교실에 에어컨이 고장 났을 때", ["선생님께 민원 넣고 해결 시도", "부채질로 버티며 여름을 승화"])
]

# 답변 저장용
answers = []

st.header("질문")
for i, (q, opts) in enumerate(questions):
    answer = st.radio(f"{i+1}. {q}", opts, index=None)
    answers.append(answer)

# 유형 점수 초기화
scores = {
    "모범생 3000 ✏️": 0,
    "급식 요정 🍱": 0,
    "복도 아이돌 🎤": 0,
    "숨은 게이머 🎮": 0,
    "잠꾸러기 고라니 😴": 0,
    "조별과제 유령 👻": 0,
    "지식 폭격기 📚": 0,
    "체육관 파이터 🥊": 0,
    "환경 지키미 🌱": 0,
    "급발진 인싸 🚀": 0,
}

# 간단한 점수 분배 로직 (랜덤하게 배치 가능)
for ans in answers:
    if ans is None:
        continue
    if "밤새" in ans or "복습" in ans:
        scores["모범생 3000 ✏️"] += 2
    if "급식" in ans or "밥" in ans:
        scores["급식 요정 🍱"] += 2
    if "댄스" in ans or "복도" in ans:
        scores["복도 아이돌 🎤"] += 2
    if "게임" in ans or "넷플릭스" in ans:
        scores["숨은 게이머 🎮"] += 2
    if "자고" in ans or "잠" in ans:
        scores["잠꾸러기 고라니 😴"] += 2
    if "잠수" in ans or "조별" in ans:
        scores["조별과제 유령 👻"] += 2
    if "질문" in ans or "공부" in ans:
        scores["지식 폭격기 📚"] += 2
    if "달리기" in ans or "체육" in ans:
        scores["체육관 파이터 🥊"] += 2
    if "민원" in ans or "환경" in ans:
        scores["환경 지키미 🌱"] += 2
    if "댄스" in ans or "갑자기" in ans:
        scores["급발진 인싸 🚀"] += 2

# 결과 출력
if st.button("결과 보기"):
    best_type = max(scores, key=scores.get)
    st.subheader(f"당신의 학교 생활 유형은... 🥁")
    st.header(best_type)

    descriptions = {
        "모범생 3000 ✏️": "항상 완벽하게 준비된 듯 보이지만, 속으로는 늘 불안한 모범생. 교과서 줄긋기도 색깔 규칙이 있고, 필기할 때 자와 연필 각도가 90도여야 마음이 놓임. 시험 전날엔 긴장해서 새벽까지 공부하다가도, 막상 시험지를 보면 ‘내가 본 건 안 나오잖아?’라는 배신감을 느끼곤 함. 그래도 친구들이 답을 물어오면 은근히 즐거워한다.",
        "급식 요정 🍱": "오늘 하루의 행복 지수는 급식 메뉴에 달려 있다! 돈까스나 떡볶이가 나오면 텐션이 300% 상승해서 수업 집중도까지 올라감. 반대로 멸치볶음이나 애매한 나물이 나오면, 표정은 굳고 하루 종일 의욕이 사라짐. 가끔은 급식실 앞에서 메뉴표를 먼저 확인하고 기쁨의 환호성을 지르기도 한다.",
        "복도 아이돌 🎤": "쉬는 시간만 되면 복도가 무대가 되고, 친구들은 팬클럽처럼 몰려든다. 그냥 걷기만 해도 누군가 ‘와~’ 하고 박수를 쳐주는 것 같은 착각에 빠짐. 하이파이브는 기본이고, 심지어 교무실 앞에서도 텐션을 감출 수 없음. 덕분에 선생님께 종종 ‘조용히 하라’는 말을 듣지만, 조용히 하라는 말조차 박수 소리로 들린다.",
        "숨은 게이머 🎮": "학교에선 평범해 보이지만, 종이 치자마자 현실 로그아웃. 집에 가자마자 헤드셋 끼고 다른 세상에 접속한다. 시험 기간에도 교재 대신 게임 패치노트를 먼저 확인하는 충성심을 보임. 하지만 신기하게도 게임 속 전략을 공부에도 써먹어서 의외의 성적을 내기도 한다. 친구들이 모르는 비밀스러운 게이머 세계의 히어로!",
        "잠꾸러기 고라니 😴": "첫 교시 시작 종이 울리는 순간, 세상은 조용한 자장가가 된다. 수업시간 필기보다 베개 각도 조절이 더 중요하고, 체육시간 직후에도 교실에 돌아오면 또 잠이 온다. 가끔은 선생님 질문에도 자동응답처럼 ‘네...’ 하다가 다시 기절. 하지만 시험 전날만큼은 누구보다 긴장해서 잠이 오지 않는 아이러니를 경험한다.",
        "조별과제 유령 👻": "조별과제의 전설적인 존재. 회의 시간엔 늘 잠수지만, 발표 날 PPT 첫 장에 이름이 큼직하게 등장한다. 친구들이 ‘얘도 우리 조였어?’ 할 때마다 신비로운 미소를 짓는다. 하지만 어찌 된 일인지 성적은 나쁘지 않게 나오고, 덕분에 ‘저 친구 사실 뒤에서 다 하고 있는 거 아니야?’라는 이상한 오해를 받기도 한다.",
        "지식 폭격기 📚": "수업시간이면 질문이 폭포수처럼 쏟아져 선생님이 진도를 나가지 못할 정도다. 친구들은 감탄 반, 피곤함 반으로 바라보지만, 본인은 진심으로 세상의 모든 지식을 흡수하고 싶어 한다. 덕분에 가끔은 수업 분위기를 뒤흔들지만, 시험만큼은 누구보다 확실히 준비되어 있어 늘 1등을 노린다.",
        "체육관 파이터 🥊": "체육 시간이 되면 돌변! 마치 국가대표 선수처럼 진지하게 임한다. 달리기 뛸 때는 결승선을 찍으며 세리머니까지 하고, 농구할 땐 슬램덩크를 꿈꾸며 점프한다. 하지만 교실로 돌아오는 순간 모든 에너지가 방전되어 수학시간엔 좀비 모드로 변한다. 그래도 체육 대회 때만큼은 반의 영웅!",
        "환경 지키미 🌱": "교실 불 끄기, 분리수거, 물 아끼기까지 완벽히 수행하는 환경 히어로. 친구들이 컵을 아무 데나 버리면 곧바로 ‘분리수거 해야지!’라고 잔소리 모드 돌입. 하지만 사실 속으로는 ‘내가 왜 이런 걸 다 챙겨야 하지...’라는 생각도 살짝 한다. 그래도 양심과 사명감으로 학교를 지켜내는 진정한 환경 수호자다.",
        "급발진 인싸 🚀": "평소에는 조용하다가도 어느 순간 갑자기 텐션이 폭발한다. 수업 중 갑자기 노래를 부르거나, 쉬는 시간 복도에서 춤을 추며 모두의 시선을 사로잡는다. 하지만 선생님이 ‘조용히 해라’ 한 마디 하면, 마치 아무 일도 없었다는 듯 초스피드로 진지 모드 변신. 이 극과 극 텐션이 바로 매력 포인트다.",
    }

    st.write(descriptions[best_type])

