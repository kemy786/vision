import streamlit as st

st.set_page_config(page_title="MBTI로 보는 내 친구 찾기", page_icon="🎯", layout="centered")

st.title("🎯 MBTI로 보는 내 친구 찾기")
st.markdown("5개의 질문에 답하면, 당신과 가장 잘 맞는 **웃기고 개성 넘치는 친구**를 소개해드립니다!")

# 질문 5개
questions = [
    ("팀 프로젝트를 할 때 나는", ["계획을 꼼꼼히 세운다", "그때그때 상황에 맞춘다"]),
    ("쉬는 시간엔", ["조용히 휴식", "친구들이랑 수다"]),
    ("놀러갈 때", ["계획 여행", "즉흥 여행"]),
    ("시험 전날", ["밤새 공부", "유튜브나 게임"]),
    ("친구와 갈등이 생기면", ["바로 대화로 풀기", "시간을 두고 풀기"])
]

answers = []
for q, opts in questions:
    answer = st.radio(q, opts, index=None)
    answers.append(answer)

if None not in answers:
    # 간단한 로직으로 MBTI 매핑
    score = sum([opt[0] == answer for opt, answer in zip([("계획을 꼼꼼히 세운다",""),("조용히 휴식",""),("계획 여행",""),("밤새 공부",""),("바로 대화로 풀기","")], answers)])
    if score >= 4:
        friend = "박영서"
    elif score == 3:
        friend = "이혜연"
    elif score == 2:
        friend = "백효슬"
    elif score == 1:
        friend = "오찬이"
    else:
        friend = "강수현"

    # 친구 소개
    friend_desc = {
        "박영서": "📚 영서는 겉보기엔 ‘교과서에서 튀어나온 모범생’이지만, 속에는 시커먼 본심과 타격감 만렙 스킬을 숨기고 있는 전략가다. 수업 시간엔 잔잔하게 필기하며 ‘평범한 학생’ 모드로 살아가지만, 쉬는 시간만 되면 몰래 웃음을 터뜨리고 친구들의 머릿속을 뒤흔드는 장난을 계획한다. 키는 솟구치고 잡지식은 넘쳐흐르며, 시험 전날엔 친구들에게 의미심장한 눈빛과 ‘이거 꼭 외워’라는 한 마디로 심리전을 펼친다. 마치 조용한 도서관 한복판에 숨어 있는 폭탄처럼, 누구도 예측할 수 없는 웃음 폭발과 지식 공격을 동시에 경험하게 된다. 수업과 장난, 전략과 심리전까지 완벽하게 장악하는 ‘인간 백과사전’이자 반의 숨은 빌런.",
        "이혜연": "🎤 혜연이는 강자 앞에선 스윗, 약자 앞에선 깡패인 인간 에너지 드링크다. 쉬는 시간마다 노래와 춤을 자동 재생하고, 어디서든 엉뚱한 농담을 던져 반 친구들을 박장대소하게 만든다. 박영서 옆에서는 서브 빌런처럼 깐족거리며 장난을 치고, 혼자 있을 땐 외로움 고인물 모드로 변신한다. 체육 시간에는 갑자기 달리기 대결을 제안하고, 이벤트에서는 언제나 중심에 서서 분위기를 폭발시킨다. 한마디 말에도 사람들의 심장 박동수를 높이고, 예측 불가 행동으로 친구들을 웃음과 당황 사이로 몰아넣는다. 옆에 있으면 하루 종일 정신이 없지만, 에너지가 충전되는 신비한 존재.",
        "백효슬": "💪 효슬이는 근육과 지능을 동시에 장착한 ‘마라탕 사이코’다. 물리학과 운동에 미쳐서 체육관에서는 폭발적인 힘과 속도로 튀어나오고, 시험 시간엔 복잡한 문제를 마치 게임처럼 척척 풀어낸다. 친구들과 팀 프로젝트를 할 땐 전략과 힘을 동시에 사용하고, 체육대회에선 달리기, 팔씨름, 피구 등 모든 분야에서 상대를 압도한다. 승부욕이 터지면 눈빛에서 레이저가 나오는 것 같고, 농담 한마디에도 폭발적인 반응을 보여 친구들을 웃게 만든다. 어디로 튈지 모르는 폭탄 같은 매력에, 웃을 땐 치명적 카리스마를 발산하고, 속으로는 따뜻한 마음을 감춘 인간 백과사전 같은 존재.",
        "오찬이": "🎉 찬이는 인간형 럭비공 같은 즉흥 끝판왕이다. 약속은 열심히 잡지만 실천은 다음 생에 미뤄지며, 오늘은 ‘샤브올데이’라더니 한 달째 미뤄지고, 내일 계획은 전혀 모르겠다. 아이돌 덕질과 취향 탐험에 진심인 그의 인생 자체가 콘서트다. 갑작스러운 즉흥 여행과 예측 불가 이벤트, 예상 못한 게임 제안으로 친구들을 웃음과 당황 사이로 몰아넣는다. 하루 종일 함께 있으면 일상이 예능처럼 느껴지고, 순간순간 터지는 장난과 웃음으로 주변 사람들을 즐겁게 만든다. 예측 불가의 매력 덩어리, 그 자체가 활력과 혼돈의 결정체.",
        "강수현": "🍔 수현이는 먹는 게 인생인 인간 맛집 탐험대장이다. 웃기고, 수학도 잘하고, 화장까지 완벽하게 소화하는 능력까지 갖췄다. 송수민의 오른팔로 충성도 999%를 자랑하며, 음식과 유머, 수학으로 세상을 지배한다. 밥을 먹는 순간 표정은 폭발하고, 새로운 맛집을 찾아내는 능력은 거의 인공지능급이다. 개그 본능까지 겸비해 한 입 먹다가도 사람을 빵 터지게 만들고, 간식이나 음식 나눔에 있어서는 신성한 규율을 철저히 지킨다. 함께 있으면 즐거움과 웃음이 끊이지 않으며, 친구들 사이에서 자연스럽게 분위기 메이커를 담당한다."
    }

    # 친해지는 방법
    friend_tips = {
        "박영서": "📘 박영서와 잘 지내려면 ‘모범생 연기’에 동참하는 것이 필수다. 필기할 땐 진지하게, 쉬는 시간엔 살짝 장난을 보태주는 식이다. 다만 시험 전날에 ‘그거 틀렸어’라는 농담은 조심하자. 그는 몰래 계획한 ‘웃음 작전’을 망치는 사람에겐 무표정 공격을 날린다. 발표 시간에는 적극적으로 리액션을 해주면 기분이 좋아져서 쉬는 시간에 비밀 웃긴 영상이나 미공개 썰을 풀어준다. 또한 매점에서 빵 하나를 사서 은근슬쩍 건네면 다음날 필기 노트를 통째로 빌려주는 신뢰 모드가 발동된다.",
        "이혜연": "🎤 혜연이와 잘 지내려면 에너지를 맞춰주는 게 관건이다. 졸린 상태로 얘기하면 바로 ‘야, 너 왜 이렇게 처졌어?’라는 지적이 날아온다. 대신 가벼운 드립, 갑작스러운 노래, 엉뚱한 제안엔 무조건 ‘좋아!’라고 반응하면 된다. 체육 시간에 ‘달리기 대결하자’ 하면 져줄 각오를 해야 한다. 그리고 공연이나 이벤트 얘기 나오면 무조건 ‘같이 가자’ 해주면 호감도가 급상승한다. 다만 시험 전날에 공부하자고 하면 ‘그럴 시간에 춤 연습하자’는 역제안을 받을 수 있으니 주의.",
        "백효슬": "💪 효슬이랑 잘 지내려면 ‘운동’과 ‘공부’ 두 가지를 모두 약간이라도 좋아하는 척해야 한다. 체육대회 때 옆에서 물만 따라줘도 ‘좋은 팀원’으로 인정한다. 과학 수업에서 모르는 문제를 물으면 기분 좋게 설명해주지만, 대충 듣는 건 금물이다. 체력 테스트 전에 ‘너 덕분에 우리 팀 이긴다’라고 칭찬하면 은근히 좋아한다. 시험 기간에는 ‘너 진짜 부럽다’ 한마디로 친밀도가 쑥 오른다. 단, 팔씨름이나 달리기 승부는 도전하지 않는 게 좋다. 승부욕 폭발 모드를 경험하게 될 수도 있다.",
        "오찬이": "🎉 찬이와 친해지고 싶다면 그의 ‘예측 불가능 스케줄’을 존중할 줄 알아야 한다. 오늘은 계획대로, 내일은 즉흥적으로 — 이게 찬이의 방식이다. 약속이 갑자기 바뀌어도 ‘그래, 재밌겠다!’라고 반응하면 신뢰도가 올라간다. 즉흥 여행 제안에는 가방만 들고 바로 출발하는 게 최고다. 반대로 ‘아, 귀찮아’라고 하면 다음 번 모험 명단에서 빠질 위험이 있다. 밥 먹으러 가자고 하면 메뉴는 안 묻고 따라가 주면 좋다. 왜냐면 그 메뉴는 이미 인생 맛집일 확률이 높기 때문이다.",
        "강수현": "🍔 수현이와 친해지려면 음식 취향을 맞춰야 한다. ‘그 집 김치찌개 별로야’ 같은 말은 절대 금지. 대신 ‘새로 생긴 맛집 있대’라고 하면 바로 반응한다. 점심 메뉴를 고를 땐 ‘네가 정해’라고 하면 마음에 들어한다. 맛있는 걸 먹으면서 재밌는 얘기를 하면 금방 친해진다. 개그 욕심이 많으니 가끔 웃긴 말로 받아쳐 주는 것도 중요하다. 다만 먹는 중에 음식 훔쳐 먹으면 배신감을 크게 느낀다. 간식은 조금이라도 나눠주면 다음날 맛집 정보를 바로 공유해준다."
    }

    # 출력
    st.subheader(f"✨ 당신과 어울리는 친구: **{friend}**")
    st.markdown(f"**친구 소개**\n\n{friend_desc[friend]}")
    st.markdown(f"**잘 지내는 방법**\n\n{friend_tips[friend]}")
