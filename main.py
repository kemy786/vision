import streamlit as st

# 1. 챔피언 데이터 (16가지 MBTI, 자세한 설명)
champ_data = {
    "INTJ": {
        "champ": "베이가",
        "desc": """🧠 **베이가**는 치밀한 전략가이자 후반을 지배하는 마법사입니다.
- **성격**: 계획적이고 미래지향적인 전략가
- **플레이 스타일**: 강력한 성장형 캐리어, 한타 후반에 팀을 이끕니다.
- **추천 이유**: 냉철한 분석력과 긴 호흡의 플레이가 당신과 잘 맞아요."""
    },
    "INTP": {
        "champ": "하이머딩거",
        "desc": """🧠 **하이머딩거**는 창의적인 발명가이자 전략가입니다.
- **성격**: 호기심 많고 논리적인 탐구자
- **플레이 스타일**: 변수를 만들어내며, 전장을 지배합니다.
- **추천 이유**: 당신의 독창적인 사고방식과 실험정신이 닮았어요."""
    },
    "ENTJ": {
        "champ": "세트",
        "desc": """🧠 **세트**는 강력한 리더이자 돌파형 전사입니다.
- **성격**: 카리스마 넘치고 결단력 있는 지도자
- **플레이 스타일**: 전투 선봉에 서서 한타를 지휘합니다.
- **추천 이유**: 강한 주도력과 자신감이 당신의 장점이에요."""
    },
    "ENTP": {
        "champ": "이즈리얼",
        "desc": """🧠 **이즈리얼**은 자유롭고 모험을 즐기는 마법사입니다.
- **성격**: 창의적이고 도전적인 탐험가
- **플레이 스타일**: 기동성 뛰어나며, 스킬 샷으로 적을 농락합니다.
- **추천 이유**: 새로운 도전을 즐기고, 자유분방한 성향이 닮았어요."""
    },
    "INFJ": {
        "champ": "카르마",
        "desc": """🧠 **카르마**는 팀을 보호하는 조율자이자 현자입니다.
- **성격**: 깊이 있는 사고와 이상을 지향하는 조력자
- **플레이 스타일**: 보호와 버프를 통해 팀을 지원합니다.
- **추천 이유**: 당신의 배려심과 내면의 힘이 잘 어울려요."""
    },
    "INFP": {
        "champ": "유미",
        "desc": """🧠 **유미**는 따뜻하고 팀을 돕는 지원가입니다.
- **성격**: 감성적이고 이상주의적인 치유자
- **플레이 스타일**: 팀원에게 치유와 버프를 제공하며 함께 싸웁니다.
- **추천 이유**: 당신의 배려와 포용력이 빛나는 챔피언이에요."""
    },
    "ENFJ": {
        "champ": "레오나",
        "desc": """🧠 **레오나**는 용맹한 수호자이자 팀의 리더입니다.
- **성격**: 헌신적이고 사교적인 지도자
- **플레이 스타일**: 선봉에서 적을 제압하며 팀을 보호합니다.
- **추천 이유**: 당신의 리더십과 헌신이 닮았어요."""
    },
    "ENFP": {
        "champ": "니달리",
        "desc": """🧠 **니달리**는 모험심 강한 정글러입니다.
- **성격**: 자유롭고 활발한 탐험가
- **플레이 스타일**: 민첩하고 변신을 통해 전장을 지배합니다.
- **추천 이유**: 당신의 활발함과 도전정신이 잘 맞아요."""
    },
    "ISTJ": {
        "champ": "말파이트",
        "desc": """🧠 **말파이트**는 신중하고 강인한 탱커입니다.
- **성격**: 책임감 강하고 신뢰받는 관리자
- **플레이 스타일**: 한타의 중심에서 팀을 지키며 견고합니다.
- **추천 이유**: 묵묵하고 안정적인 성격이 닮았어요."""
    },
    "ISFJ": {
        "champ": "룰루",
        "desc": """🧠 **룰루**는 다정하고 헌신적인 지원가입니다.
- **성격**: 따뜻하고 조용한 보호자
- **플레이 스타일**: 아군을 강화하고 적의 공격을 방해합니다.
- **추천 이유**: 당신의 배려심과 섬세함이 딱이에요."""
    },
    "ESTJ": {
        "champ": "오른",
        "desc": """🧠 **오른**은 강력한 조직자이자 탱커입니다.
- **성격**: 현실적이고 조직적인 관리자
- **플레이 스타일**: 팀의 힘을 극대화하며 전투를 주도합니다.
- **추천 이유**: 체계적이고 단호한 성격과 잘 어울려요."""
    },
    "ESFJ": {
        "champ": "나미",
        "desc": """🧠 **나미**는 사교적이고 활발한 지원가입니다.
- **성격**: 친절하고 협력적인 외교관
- **플레이 스타일**: 치유와 군중 제어로 팀을 돕습니다.
- **추천 이유**: 당신의 따뜻한 마음과 사교성이 닮았어요."""
    },
    "ISTP": {
        "champ": "제드",
        "desc": """🧠 **제드**는 냉철하고 민첩한 암살자입니다.
- **성격**: 독립적이고 현실적인 해결사
- **플레이 스타일**: 빠른 판단으로 적을 암살합니다.
- **추천 이유**: 당신의 침착함과 결단력이 돋보여요."""
    },
    "ISFP": {
        "champ": "아리",
        "desc": """🧠 **아리**는 매혹적이고 민첩한 마법사입니다.
- **성격**: 감성적이고 창의적인 예술가
- **플레이 스타일**: 이동성이 뛰어나고 적을 교란합니다.
- **추천 이유**: 당신의 섬세함과 매력이 잘 어울려요."""
    },
    "ESTP": {
        "champ": "야스오",
        "desc": """🧠 **야스오**는 모험심 강하고 공격적인 전사입니다.
- **성격**: 즉흥적이고 용감한 활동가
- **플레이 스타일**: 화려한 기동성과 강력한 한타 능력
- **추천 이유**: 당신의 대담함과 카리스마가 닮았어요."""
    },
    "ESFP": {
        "champ": "사미라",
        "desc": """🧠 **사미라**는 활기차고 스타일리시한 원거리 딜러입니다.
- **성격**: 사교적이고 즐거움을 추구하는 연예인
- **플레이 스타일**: 공격적이고 화려한 플레이를 선보입니다.
- **추천 이유**: 당신의 에너지와 매력이 빛나는 챔피언이에요."""
    }
}

# 2. 질문 리스트 (8개, 각 지표별 2개 문항)
questions = [
    ("새로운 사람들과 어울릴 때 에너지가 넘친다", "E"),
    ("혼자 시간을 보내는 것이 편안하다", "I"),

    ("현실적이고 구체적인 정보에 집중하는 편이다", "S"),
    ("상상력과 아이디어를 더 선호한다", "N"),

    ("논리와 객관적인 판단을 우선시한다", "T"),
    ("다른 사람의 감정을 중요하게 생각한다", "F"),

    ("계획을 세우고 그것을 지키는 편이다", "J"),
    ("즉흥적이고 융통성 있게 행동하는 편이다", "P"),
]

# 3. Streamlit UI 시작
st.set_page_config(page_title="MBTI 롤 챔피언 추천기", page_icon="🎮")
st.title("🎯 MBTI 기반 롤 챔피언 추천기")
st.markdown("8개의 질문에 답하면, 당신의 MBTI와 어울리는 롤 챔피언을 추천해드려요!")

st.header("📝 성격 질문")

# 각 지표별 점수 계산용 딕셔너리
scores = {"E": 0, "I": 0, "S": 0, "N": 0, "T": 0, "F": 0, "J": 0, "P": 0}

# 질문 8개를 두 개씩 라디오로 묶어 출력 (선택지는 두 문장 중 하나)
for i in range(0, len(questions), 2):
    left_text, left_key = questions[i]
    right_text, right_key = questions[i+1]

    choice = st.radio(
        f"{(i//2)+1}. 다음 중 더 당신과 가까운 것은?",
        (left_text, right_text),
        key=f"q{i}"
    )
    # 선택한 텍스트에 해당하는 키 점수 증가
    if choice == left_text:
        scores[left_key] += 1
    else:
        scores[right_key] += 1

# 4. 결과 버튼과 결과 출력
if st.button("🔍 챔피언 추천받기"):
    # 각 지표별 점수 비교해 MBTI 완성
    ei = "E" if scores["E"] >= scores["I"] else "I"
    sn = "S" if scores["S"] >= scores["N"] else "N"
    tf = "T" if scores["T"] >= scores["F"] else "F"
    jp = "J" if scores["J"] >= scores["P"] else "P"

    mbti = ei + sn + tf + jp
    st.subheader(f"🧠 당신의 MBTI 유형은: `{mbti}`")

    if mbti in champ_data:
        champ = champ_data[mbti]["champ"]
        desc = champ_data[mbti]["desc"]
        st.success(f"🎮 추천 챔피언: **{champ}**")
        st.markdown(desc)
    else:
        st.warning("아직 준비 중인 MBTI 유형이에요!")
