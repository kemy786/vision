import streamlit as st

champ_data = {
    "INTJ": {
        "champ": "베이가",
        "desc": (
            "INTJ는 체계적이고 분석적인 성향을 가진 전략가입니다. 베이가는 작고 귀여운 외형과 달리 어둠의 마법으로 끊임없이 성장하며, 시간이 지날수록 더욱 강력한 힘을 발휘합니다. "
            "이러한 성장형 메이지 챔피언은 INTJ의 계획적이고 장기적인 목표를 중요시하는 성향과 잘 어울립니다. 베이가는 단순한 피해 딜러가 아니라, 스킬을 쌓아가며 게임 후반까지 정확한 계산과 통제력을 통해 전투의 판도를 바꾸는 능력을 지니고 있습니다. "
            "상대의 움직임을 예측하고, 한타의 중심에서 결정적인 피해를 주는 그의 플레이 스타일은 고도의 전략적 사고를 즐기는 INTJ에게 완벽히 부합합니다."
        )
    },
    "INTP": {
        "champ": "하이머딩거",
        "desc": (
            "INTP는 논리적이며 창의적인 문제 해결 능력을 가진 분석가입니다. 하이머딩거는 기계공학의 천재로, 다양한 포탑을 전략적으로 설치해 전장을 통제합니다. "
            "그의 플레이 방식은 단순한 공격이 아닌, 포지셔닝과 변수 제어, 상대의 움직임을 예측하는 지능적인 전투로 구성되어 있습니다. "
            "복잡한 상황에서 즉흥적인 대응보다는 사전에 전략을 구상하고 실험하는 것을 즐기는 INTP에게 하이머딩거는 실험실과도 같은 존재입니다. "
            "포탑을 조합하고, 기계장치를 계산적으로 배치해 상황을 유리하게 만드는 하이머딩거의 방식은 지적 호기심과 논리적 구조를 추구하는 INTP의 사고방식과 놀랍도록 닮아 있습니다."
        )
    },
    "ENTJ": {
        "champ": "세트",
        "desc": (
            "ENTJ는 강한 추진력과 카리스마를 가진 리더 유형입니다. 세트는 전장의 중심에서 직접 싸우며 팀의 앞길을 개척하는 근접 전사로, 공격성과 방어력을 모두 겸비하고 있습니다. "
            "직선적이고 압도적인 힘으로 적을 제압하고, 결정적인 순간에 적의 중심을 파고들어 승부를 결정짓는 그의 플레이 스타일은 강력한 결단력과 지배력을 중시하는 ENTJ의 성향과 완벽히 일치합니다. "
            "세트는 단순히 싸움에 능한 챔피언이 아니라, 팀의 중심에서 판단과 결정을 내려야 하는 책임감을 요구합니다. "
            "ENTJ의 조직적 리더십과 위기 상황에서의 돌파 능력은 세트를 조종할 때 진정한 빛을 발하게 됩니다."
        )
    },
    "ENTP": {
        "champ": "이즈리얼",
        "desc": (
            "ENTP는 호기심이 많고 아이디어가 넘치는 발명가적 성향의 유형입니다. 이즈리얼은 뛰어난 기동성과 정밀한 스킬샷으로 승부하는 챔피언으로, 끊임없이 새로운 각도를 찾고 변화무쌍한 플레이를 펼치는 것이 특징입니다. "
            "즉흥성과 창의성을 중시하는 ENTP에게 이즈리얼은 자신의 자유로운 플레이 감각을 최대한 발휘할 수 있는 챔피언입니다. "
            "상황 판단이 빠르고 유연한 조작이 요구되며, 같은 스킬이라도 사용하는 방식에 따라 무궁무진한 결과를 만들어내는 이즈리얼의 플레이 스타일은 실험을 즐기고 틀에 박힌 것을 싫어하는 ENTP의 모험심과 잘 어울립니다."
        )
    },
    "INFJ": {
        "champ": "카르마",
        "desc": (
            "INFJ는 통찰력 있고 조화로운 협업을 중시하는 조언자 유형입니다. 카르마는 팀원을 보호하면서도 위기 상황에서 적을 제압할 수 있는 강력한 유틸리티 능력을 가진 서포터로, "
            "혼자만을 위한 플레이보다는 팀 전체의 균형을 고려한 선택을 할 수 있도록 설계된 챔피언입니다. INFJ는 이상적인 미래와 가치를 중시하며, 타인의 감정에 공감하고 조용한 방식으로 큰 영향을 끼치기를 원합니다. "
            "카르마는 이름처럼 '행동의 결과'를 다루며, 정화와 제어를 통해 전투의 흐름을 부드럽게 조율합니다. 전면에 나서기보다는 후방에서 큰 그림을 그리는 INFJ에게 매우 잘 맞는 챔피언입니다."
        )
    },
    "INFP": {
        "champ": "유미",
        "desc": (
            "INFP는 따뜻하고 감성적인 성향을 가진 중재자 유형입니다. 유미는 마법 고양이로, 아군에게 부착되어 보호와 치유를 제공하며 전장을 유연하게 넘나듭니다. "
            "직접 공격하기보다는 동료를 강화하고 살리는 데 집중하며, 그 속에서 진정한 가치를 발견합니다. INFP는 타인의 감정에 깊이 공감하고, 겉으로 드러나지 않아도 중요한 역할을 수행하는 것을 선호합니다. "
            "유미는 이런 INFP의 성격을 그대로 투영한 챔피언으로, 조용하지만 헌신적인 방식으로 팀 승리에 기여하며, 자신의 방식으로 의미 있는 존재가 되고 싶어하는 INFP의 내면을 잘 대변합니다."
        )
    },
    "ENFJ": {
        "champ": "레오나",
        "desc": (
            "ENFJ는 사람들을 이끄는 강한 리더십과 타인을 향한 헌신이 돋보이는 유형입니다. 레오나는 선두에서 진입하며 팀을 보호하고 전투를 유리하게 이끄는 탱커로, 강력한 군중 제어 능력과 확실한 진입력을 가졌습니다. "
            "자신을 희생해서라도 팀 전체의 이익을 위해 움직이는 레오나의 스타일은 헌신적이고 책임감 있는 ENFJ의 특징과 정확히 맞아떨어집니다. "
            "결단력 있게 싸움의 흐름을 여는 것뿐 아니라, 아군의 위치를 끊임없이 살피며 전장의 중심에서 '믿음직한 존재'가 되는 것이 중요합니다. "
            "ENFJ는 그 누구보다 사람을 위하는 방식으로 팀의 기둥이 되는 플레이를 선호하며, 레오나는 그런 리더십을 실현할 수 있는 이상적인 챔피언입니다."
        )
    },
    "ENFP": {
        "champ": "니달리",
        "desc": (
            "ENFP는 활기차고 모험을 즐기는 열정가입니다. 니달리는 정글을 자유롭게 넘나드는 사냥꾼으로, 순간적인 판단력과 기민한 움직임을 통해 전투를 지배합니다. "
            "끊임없이 움직이며 상황에 따라 인간과 표범의 형태를 바꾸는 니달리의 전투 스타일은, 고정된 틀을 싫어하고 자유롭게 행동하는 ENFP의 성향과 매우 잘 어울립니다. "
            "무작정 싸우는 것이 아니라, 적재적소에 뛰어들고 기습과 타이밍을 활용해 상황을 자신에게 유리하게 바꾸는 니달리의 방식은 ENFP의 빠른 판단력과 열정적인 추진력과도 잘 맞습니다."
        )
    },
    "ISTJ": {
        "champ": "말파이트",
        "desc": (
            "ISTJ는 신뢰성과 책임감을 중시하는 관리자 유형입니다. 말파이트는 단단한 방어력과 확실한 궁극기를 가진 탱커로, 전투에서 아군을 보호하며 안정적으로 전장을 지키는 역할을 합니다. "
            "복잡한 상황에서도 흔들리지 않고 묵묵히 자신의 자리를 지키는 말파이트의 성격은 ISTJ의 성실하고 계획적인 성향을 그대로 반영합니다. "
            "과감한 돌진이 가능하지만 항상 그 타이밍은 계산되어 있고, 전투에 앞서 준비된 자세로 임하는 것이 중요합니다. "
            "ISTJ는 자신에게 맡겨진 역할을 충실히 해내는 데에서 보람을 느끼며, 말파이트는 그 기대에 완벽히 부응하는 든든한 챔피언입니다."
        )
    },
    "ISFJ": {
        "champ": "룰루",
        "desc": (
            "ISFJ는 섬세하고 헌신적인 성향의 수호자입니다. 룰루는 동료를 보호하고 강화하는 데 특화된 서포터 챔피언으로, 작지만 마법으로 큰 영향을 끼칩니다. "
            "변이, 보호막, 강화 등 다양한 방식으로 아군을 지원하며 팀 전투의 흐름을 뒤바꿀 수 있는 룰루는 눈에 띄진 않지만 매우 중요한 역할을 수행합니다. "
            "ISFJ는 조용히 주변을 챙기며, 다른 사람의 행복과 안정을 돕는 데서 만족을 느낍니다. 룰루는 바로 그런 스타일을 가진 챔피언이며, 자신이 직접 주인공이 되기보다는 팀을 빛내주는 서포터의 위치를 즐기는 ISFJ와 깊은 공감을 이룹니다."
        )
    },
    "ESTJ": {
        "champ": "오른",
        "desc": (
            "ESTJ는 조직적이고 체계적인 리더 유형입니다. 오른은 전투 중에도 아이템을 제작하며 아군의 성장을 도울 수 있는 독특한 능력을 가진 탱커로, 아군의 전력을 극대화하면서도 앞에서 전장을 안정적으로 지켜냅니다. "
            "이처럼 팀 전체의 전략을 고려하며 구조적으로 플레이하는 오른의 방식은 효율성과 조직력을 중시하는 ESTJ와 잘 맞습니다. "
            "전투 상황을 계획대로 이끌어가는 동시에, 전반적인 흐름을 관리하는 능력을 요구하는 오른은 통제력과 책임감을 중요하게 여기는 ESTJ의 기질을 실현할 수 있는 이상적인 챔피언입니다."
        )
    },
    "ESFJ": {
        "champ": "나미",
        "desc": (
            "ESFJ는 협력적이고 사교적인 조화자입니다. 나미는 치유와 군중 제어 능력을 모두 갖춘 서포터로, 전투에서 아군을 살리고 적의 행동을 방해하며 중요한 역할을 수행합니다. "
            "ESFJ는 팀워크를 중요하게 생각하며, 다른 사람을 돕고 돌보는 데서 만족을 얻습니다. "
            "나미는 이처럼 세심하게 팀을 챙기면서도 필요할 땐 확실한 제어력을 발휘할 수 있는 챔피언이며, 공동체의 조화를 중시하는 ESFJ의 성향과 잘 맞는 서포터입니다."
        )
    },
    "ISTP": {
        "champ": "제드",
        "desc": (
            "ISTP는 침착하고 분석적인 성격의 장인 유형입니다. 제드는 은신과 그림자 이동으로 적을 기습하고 빠르게 이탈하는 암살자로, 고도의 컨트롤과 상황 판단력이 요구됩니다. "
            "감정보다는 냉정한 판단에 기반하여 조용히 일을 해결하는 ISTP에게 제드는 효율적이고 정밀한 챔피언입니다. "
            "적을 조용히 제거하고, 혼자서도 판도를 바꿀 수 있는 제드의 플레이는 '보여주기보다 해내기'를 중시하는 ISTP의 실용성과 잘 어울립니다."
        )
    },
    "ISFP": {
        "champ": "아리",
        "desc": (
            "ISFP는 예술적이고 섬세한 감성을 가진 모험가 유형입니다. 아리는 매혹적인 마법으로 적을 유인하고 화려한 스킬로 마무리하는 챔피언으로, 우아함과 민첩함을 모두 갖춘 전투 스타일을 자랑합니다. "
            "자기만의 스타일과 감각을 중요하게 여기는 ISFP는 아리의 감성적이면서도 효과적인 전투 방식에 깊이 공감할 수 있습니다. "
            "화려한 움직임 속에서도 세심한 컨트롤을 요하는 아리는 예술성과 전술을 동시에 요구하며, 감정과 직관을 조화시키는 ISFP의 사고방식과 잘 맞는 챔피언입니다."
        )
    },
    "ESTP": {
        "champ": "야스오",
        "desc": (
            "ESTP는 대담하고 에너지 넘치는 모험가 유형입니다. 야스오는 빠르고 역동적인 움직임으로 적을 압도하는 스킬 기반의 전사로, 상황 판단과 반사 신경이 승패를 좌우합니다. "
            "즉흥적이고 도전적인 것을 즐기는 ESTP는 한타 한복판을 가르는 야스오의 박진감 넘치는 플레이 스타일과 잘 어울립니다. "
            "실수에 대한 두려움 없이 자신감 있게 돌진하며, 스킬을 연계해 극적인 순간을 만드는 야스오는 리스크와 스릴을 즐기는 ESTP에게 최적의 챔피언입니다."
        )
    },
    "ESFP": {
        "champ": "사미라",
        "desc": (
            "ESFP는 열정적이고 활기찬 연예인 유형입니다. 사미라는 적의 중심을 가르며 화려한 연계 공격을 통해 전장을 지배하는 하이퍼 캐리 챔피언입니다. "
            "눈에 띄는 것을 두려워하지 않고, 자신의 실력을 당당히 드러내는 것을 즐기는 ESFP에게 사미라는 그 성향을 가장 극적으로 실현할 수 있는 챔피언입니다. "
            "도전 정신과 순발력이 요구되며, 상황에 따라 공격과 회피를 오가는 사미라의 플레이는 변화에 능하고 본능적인 선택을 즐기는 ESFP와 찰떡궁합입니다."
        )
    },
}


questions = [
    ("새로운 사람들과 어울릴 때 에너지가 넘친다", "E"),
    ("혼자 시간을 보내는 것이 지루하기보다는 편안하다", "I"),
    ("사람들 앞에서 이야기하는 걸 즐긴다", "E"),
    ("사적인 시간을 혼자 보내는 걸 선호한다", "I"),
    ("사교적인 모임에서 활력이 생긴다", "E"),
    ("혼자서 조용한 시간을 보내는 것을 좋아한다", "I"),
    ("현실적이고 구체적인 정보에 집중하는 편이다", "S"),
    ("상상력과 아이디어를 더 선호한다", "N"),
    ("과거 경험에 기반해 결정을 내린다", "S"),
    ("미래 가능성과 새로운 가능성을 생각하는 걸 좋아한다", "N"),
    ("세부 사항에 주의를 기울이는 편이다", "S"),
    ("큰 그림을 보는 걸 더 즐긴다", "N"),
    ("팀원과의 불화가 있지만 결과가 좋은 것이 낫다", "T"),
    ("팀 분위기는 좋지만 결과가 아쉬운 것이 낫다", "F"),
    ("문제를 해결할 때 감정보다 사실에 집중한다", "T"),
    ("사람들의 감정에 공감하는 편이다", "F"),
    ("비판할 때도 감정보다는 논리를 따른다", "T"),
    ("친구의 기분을 살피는 데 신경을 많이 쓴다", "F"),
    ("계획을 세우고 그것을 지키는 편이다", "J"),
    ("즉흥적이고 융통성 있게 행동하는 편이다", "P"),
    ("일정을 미리 짜는 걸 좋아한다", "J"),
    ("변화에 빠르게 적응하는 편이다", "P"),
    ("일을 체계적으로 처리하는 것을 선호한다", "J"),
    ("즉흥적인 선택을 즐긴다", "P"),
]

st.set_page_config(page_title="MBTI 롤 챔피언 추천기", page_icon="🎮", layout="centered")

st.markdown("""
<style>
body {
    background-color: #0f1216;
    color: #f5f3e7;
    font-family: 'Georgia', serif;
}
.main {
    max-width: 720px;
    margin: 40px auto;
    padding: 35px 40px;
    background: linear-gradient(145deg, #1c1f26, #272b35);
    border-radius: 18px;
    box-shadow: 0 0 30px 3px #8e44adcc;
    border: 1.5px solid #6c3483;
}
h1 {
    font-size: 56px;
    color: #bb86fc;
    text-align: center;
    font-weight: 900;
    text-shadow: none;
    margin-bottom: 20px;
}
h2 {
    color: #a678de;
    margin-top: 45px;
    margin-bottom: 20px;
    text-align: center;
    text-shadow: none;
}
.question {
    font-size: 22px;
    margin-top: 25px;
    margin-bottom: 14px;
    font-weight: 700;
    color: #000000;
    text-shadow: none;
}
.stRadio > div {
    color: #dcd6f7 !important;
}
.stRadio > div:hover {
    color: #bb86fc !important;
}
.footer {
    font-size: 13px;
    color: #888888;
    margin-top: 55px;
    text-align: center;
}
</style>
""", unsafe_allow_html=True)

st.markdown('<div class="main">', unsafe_allow_html=True)

st.markdown('<h1>🎯 MBTI 기반 롤 챔피언 추천기</h1>', unsafe_allow_html=True)
st.markdown('<p style="text-align:center; font-size:18px; color:#ccc;">12개의 질문에 답해서 나와 딱 맞는 챔피언을 만나보세요!</p>', unsafe_allow_html=True)

st.header("📝 성격 질문")

scores = {"E":0,"I":0,"S":0,"N":0,"T":0,"F":0,"J":0,"P":0}

for i in range(0,len(questions),2):
    left_text, left_key = questions[i]
    right_text, right_key = questions[i+1]
    st.markdown(f'<div class="question">{(i//2)+1}. 다음 중 더 당신과 가까운 것은?</div>', unsafe_allow_html=True)
    choice = st.radio("", (left_text,right_text), key=f"q{i}")
    if choice == left_text:
        scores[left_key] += 1
    else:
        scores[right_key] += 1

if st.button("🔍 챔피언 추천받기"):
    ei = "E" if scores["E"] >= scores["I"] else "I"
    sn = "S" if scores["S"] >= scores["N"] else "N"
    tf = "T" if scores["T"] >= scores["F"] else "F"
    jp = "J" if scores["J"] >= scores["P"] else "P"
    mbti = ei + sn + tf + jp

    st.markdown(f'<h2>🧠 당신의 MBTI 유형은: <span style="color:#bb86fc;">{mbti}</span></h2>', unsafe_allow_html=True)

    if mbti in champ_data:
        champ = champ_data[mbti]["champ"]
        desc = champ_data[mbti]["desc"]
        st.markdown(f"### 🎮 추천 챔피언: **{champ}**")
        st.markdown(f'<p style="font-size:17px; line-height:1.6; white-space:pre-line;">{desc}</p>', unsafe_allow_html=True)
    else:
        st.warning("아직 준비 중인 MBTI 유형이에요! 조금만 기다려 주세요.")

st.markdown('</div>', unsafe_allow_html=True)

st.markdown('<div class="footer">Made with ❤️ by ChatGPT | League of Legends & MBTI Fusion</div>', unsafe_allow_html=True)
