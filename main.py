import streamlit as st

# ---------------------
# 챔피언 추천 데이터
# ---------------------
champ_data = {
    "INTJ": {"champ": "베이가", "desc": "계획적이고 전략적인 당신에게는 성장형 마법사 베이가가 어울려요. 후반을 지배하는 힘이 당신과 닮았죠."},
    "INTP": {"champ": "하이머딩거", "desc": "논리적이고 실험적인 당신은 포탑으로 변수를 만드는 하이머딩거와 닮았어요."},
    "ENTJ": {"champ": "세트", "desc": "리더십과 돌파력을 갖춘 당신은 한타를 주도하는 세트가 제격이에요."},
    "ENTP": {"champ": "이즈리얼", "desc": "창의적이고 도전적인 성향의 당신에게는 자유롭게 움직이는 이즈리얼이 어울려요."},
    "INFJ": {"champ": "카르마", "desc": "이상과 가치, 팀을 생각하는 INFJ는 조율과 보호에 강한 카르마와 잘 맞아요."},
    "INFP": {"champ": "유미", "desc": "배려심 깊고 감성적인 당신은 팀과 함께하는 유미가 딱이에요."},
    "ENFJ": {"champ": "레오나", "desc": "헌신적인 리더인 당신은 전장을 이끄는 레오나와 찰떡이에요."},
    "ENFP": {"champ": "니달리", "desc": "자유롭고 활발한 당신은 정글을 누비는 니달리처럼 모험을 즐겨요."},
    "ISTJ": {"champ": "말파이트", "desc": "신중하고 책임감 있는 당신은 든든한 탱커 말파이트와 닮았어요."},
    "ISFJ": {"champ": "룰루", "desc": "사려 깊고 헌신적인 당신은 팀을 보호하는 룰루가 어울려요."},
    "ESTJ": {"champ": "오른", "desc": "현실적이고 조직적인 당신은 팀을 강화하는 오른과 잘 어울려요."},
    "ESFJ": {"champ": "나미", "desc": "사교적이고 따뜻한 성격의 당신은 치유형 서포터 나미가 제격이에요."},
    "ISTP": {"champ": "제드", "desc": "과묵하지만 빠르게 판단하는 당신은 암살자 제드처럼 날카로운 플레이가 잘 맞아요."},
    "ISFP": {"champ": "아리", "desc": "감성적이면서도 섬세한 당신은 매혹적인 마법사 아리와 잘 맞아요."},
    "ESTP": {"champ": "야스오", "desc": "즉흥적이고 공격적인 당신은 스타일리시한 야스오와 찰떡이에요."},
    "ESFP": {"champ": "사미라", "desc": "에너지 넘치고 주목받는 걸 좋아하는 당신은 화려한 사미라가 딱이에요!"}
}

# ---------------------
# 페이지 설정
# ---------------------
st.set_page_config(page_title="MBTI 롤 챔피언 추천기", page_icon="🎮")
st.title("🎯 MBTI 성격 기반 롤 챔피언 추천기")
st.markdown("아래 4가지 질문에 답해보면, 당신의 성격과 어울리는 **롤 챔피언**을 추천해드릴게요!")

# ---------------------
# 성격 테스트 질문
# ---------------------
st.header("📝 성격 테스트")

q1 = st.radio("1. 사람들과 함께 있으면 에너지가 생긴다", ["그렇다", "아니다"])
q2 = st.radio("2. 직감보다는 경험에 기반해 판단한다", ["그렇다", "아니다"])
q3 = st.radio("3. 감정보다 논리적으로 판단하려 한다", ["그렇다", "아니다"])
q4 = st.radio("4. 계획보다 즉흥적인 걸 더 선호한다", ["그렇다", "아니다"])

# ---------------------
# 결과 출력
# ---------------------
if st.button("🔍 챔피언 추천받기"):
    # MBTI 구성 (순서: E/I - S/N - T/F - J/P)
    ei = "E" if q1 == "그렇다" else "I"
    sn = "S" if q2 == "그렇다" else "N"
    tf = "T" if q3 == "그렇다" else "F"
    jp = "P" if q4 == "그렇다" else "J"

    mbti = ei + sn + tf + jp

    st.subheader(f"🧠 당신의 추정 MBTI: `{mbti}`")

    if mbti in champ_data:
        champ = champ_data[mbti]["champ"]
        desc = champ_data[mbti]["desc"]
        st.success(f"🎮 추천 챔피언: **{champ}**")
        st.markdown(f"📝 {desc}")
    else:
        st.warning("죄송해요, 이 성격 유형은 아직 준비 중이에요.")
